# Java
export JAVA_HOME=/usr/local/bin/java

parse_git_branch () {
  git name-rev HEAD 2> /dev/null | sed 's#HEAD\ \(.*\)#(git::\1)#'
}

parse_svn_branch() {
  parse_svn_url | sed -e 's#^'"$(parse_svn_repository_root)"'##g' | awk '{print "(svn::"$1")" }'
}

parse_svn_url() {
  svn info 2>/dev/null | sed -ne 's#^URL: ##p'
}

parse_svn_repository_root() {
  svn info 2>/dev/null | sed -ne 's#^Repository Root: ##p'
}

# Colors
GREEN="\[\033[0;32m\]"
LIGHT_GREEN="\[\033[1;32m\]"
BLUE="\[\033[01;34m\]"
LIGHT_BLUE="\[\033[00;36m\]"
RED="\[\033[0;31m\]"
LIGHT_RED="\[\033[1;31m\]"
YELLOW="\[\033[0;33m\]"
LIGHT_GRAY="\[\033[00m\]"
WHITE="\[\033[1;37m\]"
COLOR_NONE="\[\e[0m\]"

# Prompt
#PS1='\[\033[01;34m\]\w\[\033[00;33m\]$([ \j -gt 0 ] && echo [\j])\[\033[00;36m\]\$\[\033[00m\] '
PS1="$BLUE\w$GREEN\$(parse_git_branch)\$(parse_svn_branch)$YELLOW[\j]$LIGHT_BLUE\$$WHITE "
export SUDO_PS1="[ROOT! \W]# "

# Path
PATH=/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin

# Disable known hosts prompt
alias sssh='ssh -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null'

# Set our default editor
export EDITOR=vim

# Prevent history getting overwritten from multipel bash sessions
shopt -s histappend
PROMPT_COMMAND='history -a'

# Keeps multiline commands together in the history
shopt -s cmdhist

# Allows for spelling mistakes when cd'ing to a directory
shopt -s cdspell

# Env specific settings
unamestr=`uname`
if [[ "$unamestr" == 'Darwin' ]]; then
  export CLICOLOR=1
  export LSCOLORS="ExGxFxDxCxDxDxhbhdacEc"

  alias diff='colordiff'
  alias grep='grep --color=auto'
elif [[ "$unamestr" == 'Linux' ]]; then
  # enable color support of ls and also add handy aliases (only for Linux)
  # Reference: https://github.com/nandykins/gentoo-conf/blob/master/.bashrc
  if [ -x /usr/bin/dircolors ]; then
    test -r ~/.dircolors && eval "$(dircolors -b ~/.dircolors)" || eval "$(dircolors -b)"
    alias ls='ls --color=auto'
    alias dir='dir --color=auto'
    alias vdir='vdir --color=auto'
    alias diff='colordiff'
  
    alias grep='grep --color=auto'
    alias fgrep='fgrep --color=auto'
    alias egrep='egrep --color=auto'
  fi
fi

[[ -s "$HOME/.rvm/scripts/rvm" ]] && source "$HOME/.rvm/scripts/rvm" # Load RVM into a shell session *as a function*

#. ~/dotfiles/.git_svn_bash_prompt
